<html>
<head>
  <title>js応用講座テキスト 19/05/25</title>
  <style>
    body{
        margin-left:20%;
        margin-right:20%;    
    }

    p{
        margin:0px;
    }

    div.container{
        margin-left:10%;
        margin-right:10%;    
    }

    div.container01{
        margin:0%;
    }

    .arrange{
        float: left;
        width:30%;
        text-align: center;
    }
    .arrange > img{
        width:30%;
    }
    div{
        width:100%;
    }

    .attentionWord{
        /* font-size: 300%; */
        font-weight: bold;
        text-align: center;
    }

    hr{
        margin-top:200px;
        margin-bottom:30px;    
        clear:both;
    }

    pre{
        margin:0px;
    }

    .obj{
        padding-bottom:100px;
    }

    .copy{
        text-align: center;
        background-color: #77e;
        border:groove 3px #000;
    }

    .challenge{
        text-align: center;
        background-color: #77e;
        border:groove 3px #000;
    }
    .select{
      border: dashed 2px #000;
    }
    .ans{
      border: double 5px #aaa;
    }

    .prettyprint{
      background-color: #ffd;
      padding: 2px; 
      border: 1px solid #888;
    }
  </style>
  <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
</head>
<body>
  <h2>00.推奨環境</h2>
  <div class="container">
    <p>URL：https://kuniatsu.github.io/workShop/index.html</p>
    <p>ブラウザ：chrome</p>
  </div>
  <hr>

  <h2>入出力の演習</h2>
  <div class="obj">
    画面を作る<br />      
    <pre class="prettyprint" id="src32">
    &lt;html&gt; 
      &lt;body style="text-align: center;"</body>&gt;
        &lt;p id='num'&gt;ここに説明文&lt;/p&gt;
        &lt;input id='tt' value='テキストボックスの中'&gt;
        &lt;button id='bt'&gt;ボタンの中&lt;/button&gt;    
      &lt;/body&gt;
    &lt;/html&gt; 
    </pre>
    <p class="copy" id="copy32">選択</p>
  </div>

  <div class="obj">
      画面の情報を取得<br />      
    <pre class="prettyprint" id="src33">
      &lt;html&gt; 
        &lt;body style="text-align: center;"</body>&gt;
          &lt;p id='num'&gt;ここに説明文&lt;/p&gt;
          &lt;input id='tt' value='テキストボックスの中'&gt;
          &lt;button id='bt'&gt;ボタンの中&lt;/button&gt;    
        &lt;/body&gt;
        &lt;script&gt;
        var a = document;
        console.dir(a);      
        &lt;/script&gt; 
      &lt;/html&gt; 
    </pre>
    <p class="copy" id="copy33">選択</p>
  </div>

  <div class="obj">
      テキストボックス(tt)のvalue(「テキストボックスの中」)をconsole.dirで表示してみよう<br />      
    <pre class="prettyprint" id="src34">
      &lt;html&gt; 
        &lt;body style="text-align: center;"</body>&gt;
          &lt;p id='num'&gt;ここに説明文&lt;/p&gt;
          &lt;input id='tt' value='テキストボックスの中'&gt;
          &lt;button id='bt'&gt;ボタンの中&lt;/button&gt;    
        &lt;/body&gt;
        &lt;script&gt;
          var a = document.getElementById('tt');
          console.dir(a);
          console.dir(a.value);     
          /*  ※a.valueはaの中のvalueっということ */ 
        &lt;/script&gt; 
      &lt;/html&gt; 
    </pre>
    <p class="copy" id="copy34">選択</p>
  </div>
  
  <div class="obj">
    【問題1】ボタン(bt)のinnerText(ボタンに書かれている「押せ！」)をconsole.dirで表示してみよう<br /> 
    [処理]と書かれている部分にjsを書いて下さい。     
    <pre class="prettyprint" id="src35">
      &lt;html&gt; 
        &lt;body style="text-align: center;"</body>&gt;
          &lt;input type="text" id="tb"&gt;
          &lt;button id="bt"&gt;押せ！&lt;/button&gt;    
        &lt;/body&gt;
        &lt;script&gt;
          [処理]
          console.dir(b.innerText);
        &lt;/script&gt; 
      &lt;/html&gt; 
    </pre>
    <p class="copy" id="copy35">選択</p>
  </div>
  
  <div class="obj">
    ボタンにイベントを割り当てる<br />      
    <pre class="prettyprint" id="src36">
      &lt;html&gt; 
        &lt;body style="text-align: center;"</body>&gt;
          &lt;input type="text" id="tb"&gt;
          &lt;button id="bt"&gt;押せ！&lt;/button&gt; 
        &lt;/body&gt;
        &lt;script&gt;
          var bt = document.getElementById('bt');
          console.dir(bt);
          bt.addEventListener('click',say);
        
          function say(){
            console.dir('クリックされた');
          }        
          /* ※関数を割り当てるのはaddEventListener */
        &lt;/script&gt; 
      &lt;/html&gt; 
    </pre>
    <p class="copy" id="copy36">選択</p>
  </div>

  <div class="obj">
    説明文を変えてみよう<br />      
    <pre class="prettyprint" id="src37">
      &lt;html&gt; 
        &lt;body style="text-align: center;"</body>&gt;
          &lt;p id='num'&gt;ここに説明文&lt;/p&gt;
          &lt;input id='tt' value='テキストボックスの中'&gt;
          &lt;button id='bt'&gt;ボタンの中&lt;/button&gt;    
        &lt;/body&gt;
        &lt;script&gt;
          var num = document.getElementById('num');
          console.dir(num);
          num.innerText = "0123456789";
        
          /* ※num.innerTextに値を代入することもできる*/
        &lt;/script&gt; 
      &lt;/html&gt; 
    </pre>
    <p class="copy" id="copy37">選択</p>
  </div>
  
  <div class="obj">
      【問題】ボタンを押したら説明文が変わるように変更。<br /> 
      【チャレンジ】可能であれば&lt;input&gt;内に書いた文字に変更    
    <pre class="prettyprint" id="src38">
      &lt;html&gt;
        &lt;body style="text-align: center;"</body>&gt;
          &lt;p id='num'&gt;ここに説明文&lt;/p&gt;
          &lt;input id='tt' value='テキストボックスの中'&gt;
          &lt;button id='bt'&gt;ボタンの中&lt;/button&gt;    
        &lt;/body&gt;
        &lt;script&gt;
          var bt = document.getElementById('bt');
          var num = document.getElementById('num');
          bt.addEventListener('click',say);
          function say(){
            console.dir('クリックされた');
          }        
        &lt;/script&gt; 
      &lt;/html&gt; 
    </pre>
    <p class="copy" id="copy38">選択</p>
  </div>

  <div class="obj">
    乱数が表示されるように変更しよう<br />      
    <pre class="prettyprint" id="src39">
      &lt;html&gt; 
        &lt;body style="text-align: center;"</body>&gt;
          &lt;p id='num'&gt;ここに説明文&lt;/p&gt;
          &lt;input id='tt' value='テキストボックスの中'&gt;
          &lt;button id='bt'&gt;ボタンの中&lt;/button&gt;    
        &lt;/body&gt;
        &lt;script&gt;
          var bt = document.getElementById('bt');
          var num = document.getElementById('num');
          bt.addEventListener('click',say);
        
          function say(){
            console.dir('クリックされた');
            var ransuu = Math.random();    /* 乱数作成*/
            num.innerText = ransuu;
          }            
        &lt;/script&gt; 
      &lt;/html&gt; 
    </pre>
    <p class="copy" id="copy39">選択</p>
  </div>

    <div class="obj">
      整数の乱数を作ろう<br />      
      <pre class="prettyprint" id="src40">
        &lt;html&gt; 
          &lt;body style="text-align: center;"</body>&gt;
            &lt;p id='num'&gt;ここに説明文&lt;/p&gt;
            &lt;input id='tt' value='テキストボックスの中'&gt;
            &lt;button id='bt'&gt;ボタンの中&lt;/button&gt;    
          &lt;/body&gt;
          &lt;script&gt;
          var keta = 100;
          var bt = document.getElementById('bt');
          var num = document.getElementById('num');
          bt.addEventListener('click',say);
        
          function say(){
            console.dir('クリックされた');
            var ransuu = Math.random();           /* 乱数作成*/
            console.log(ransuu);
            var ransuu2 = ransuu*keta;              /*100倍する*/
            console.log(ransuu2);
            var ransuu3 = Math.floor(ransuu2); /* 小数点以下切り捨て*/
            num.innerText = ransuu3;
          }                  
          &lt;/script&gt; 
        &lt;/html&gt; 
      </pre>
      <p class="copy" id="copy40">選択</p>
    </div>

    <div class="obj">
      【問題3】ボタンを押すたびに桁が増えていくように変更<br />      
      <pre class="prettyprint" id="src41">
        &lt;html&gt; 
        &lt;body style="text-align: center;"</body>&gt;
          &lt;p id='num'&gt;ここに説明文&lt;/p&gt;
          &lt;input id='tt' value='テキストボックスの中'&gt;
          &lt;button id='bt'&gt;ボタンの中&lt;/button&gt;    
        &lt;/body&gt;
          &lt;script&gt;
            var keta = 10;
            var bt = document.getElementById('bt');
            var num = document.getElementById('num');
            bt.addEventListener('click',say);
          
            function say(){
              console.dir('クリックされた');
              /*ここに１行追加*/
              var ransuu = Math.random();           /* 乱数作成*/
              var ransuu2 = ransuu*keta;              /*n倍する*/
              var ransuu3 = Math.floor(ransuu2); /* 小数点以下切り捨て*/
              num.innerText = ransuu3;
            }                
            /*2桁が３桁になるにはどの数字を、いつ変えたらいいか考えてみよう*/        
          &lt;/script&gt; 
        &lt;/html&gt; 
      </pre>
      <p class="copy" id="copy41">選択</p>
    </div>

    <div class="obj">
        乱数作成を関数にしてみよう<br />      
        <pre class="prettyprint" id="src42">
          &lt;html&gt; 
            &lt;body style="text-align: center;"</body>&gt;
              &lt;p id='num'&gt;ここに説明文&lt;/p&gt;
              &lt;input id='tt' value='テキストボックスの中'&gt;
              &lt;button id='bt'&gt;ボタンの中&lt;/button&gt;    
            &lt;/body&gt;
            &lt;script&gt;
            var keta = 10;
            var bt = document.getElementById('bt');
            var num = document.getElementById('num');
            bt.addEventListener('click',say);
          
            function say(){
              console.dir('クリックされた');
              keta = keta*10;
              num.innerText = random(keta);
            }
          
            function random(ketasuu){
              var ransuu = Math.random(); /* 乱数作成*/
              var ransuu2 = ransuu*ketasuu; /*100倍する*/
              var ransuu3 = Math.floor(ransuu2); /* 小数点以下切り捨て*/
              return ransuu3;
            }
            /*引数とreturnを使いこなす!! */
            &lt;/script&gt; 
          &lt;/html&gt; 
        </pre>
        <p class="copy" id="copy42">選択</p>
      </div>


      <div class="obj">
        テキストボックスと答え合わせをする。<br />      
        <pre class="prettyprint" id="src43">
          &lt;html&gt; 
            &lt;body style="text-align: center;"</body>&gt;
              &lt;p id='num'&gt;ここに説明文&lt;/p&gt;
              &lt;input id='tt' &gt;
              &lt;button id='bt'&gt;ボタンの中&lt;/button&gt;    
            &lt;/body&gt;
            &lt;script&gt;
              var keta = 10;
              var bt = document.getElementById('bt');
              var tt = document.getElementById('tt');
              var num = document.getElementById('num');
              bt.addEventListener('click',say);
            
              function say(){
                console.log(tt.value);
                console.log(num.innerText);
                if(tt.value==num.innerText){
                  console.dir('正解');
                }
                console.dir('次の問題!');
                keta = keta*10;
                num.innerText = random(keta);
              }
            
              function random(ketasuu){
                var ransuu = Math.random(); /* 乱数作成*/
                var ransuu2 = ransuu*ketasuu; /*100倍する*/
                var ransuu3 = Math.floor(ransuu2); /* 小数点以下切り捨て*/
                return ransuu3;
              }
          
            &lt;/script&gt; 
          &lt;/html&gt; 
        </pre>
        <p class="copy" id="copy43">選択</p>
      </div>


      <div class="obj">
        【問題4】正解しないと桁数が増えないようにする<br />      
        <pre class="prettyprint" id="src44">
          &lt;html&gt; 
            &lt;body style="text-align: center;"</body>&gt;
              &lt;p id='num'&gt;ここに説明文&lt;/p&gt;
              &lt;input id='tt' &gt;
              &lt;button id='bt'&gt;ボタンの中&lt;/button&gt;    
            &lt;/body&gt;
            &lt;script&gt;
            var keta = 10;
            var bt = document.getElementById('bt');
            var tt = document.getElementById('tt');
            var num = document.getElementById('num');
            bt.addEventListener('click',say);
          
            function say(){
              if(tt.value==num.innerText){
                console.dir('正解');
              }
              console.dir('次の問題!');
              keta = keta*10;
              num.innerText = random(keta);
            }
          
            function random(ketasuu){
              var ransuu = Math.random(); /* 乱数作成*/
              var ransuu2 = ransuu*ketasuu; /*100倍する*/
              var ransuu3 = Math.floor(ransuu2); /* 小数点以下切り捨て*/
              return ransuu3;
            }
            /*  桁数が増えるタイミングを変えよう  1行変更で完成 */
            &lt;/script&gt; 
          &lt;/html&gt; 
        </pre>
        <p class="copy" id="copy44">選択</p>
      </div>

      <div class="obj">
          テキストボックスを空にする（毎回消すのめんどくさいから）&ボタンの名前もかえる(ずっとスタートは変)<br />      
        <pre class="prettyprint" id="src45">
          &lt;html&gt; 
            &lt;body style="text-align: center;"</body>&gt;
              &lt;p id='num'&gt;ここに説明文&lt;/p&gt;
              &lt;input id='tt' &gt;
              &lt;button id='bt'&gt;ボタンの中&lt;/button&gt;    
            &lt;/body&gt;
            &lt;script&gt;
            var keta = 10;
            var bt = document.getElementById('bt');
            var tt = document.getElementById('tt');
            var num = document.getElementById('num');
            bt.addEventListener('click',say);
          
            function say(){
              if(tt.value==num.innerText){
                console.dir('正解');
                keta = keta*10;
              }
              console.dir('次の問題!');
              num.innerText = random(keta);
              tt.value = "";
              bt.innerText = "決定!";
            }
          
            function random(ketasuu){
              var ransuu = Math.random(); /* 乱数作成*/
              var ransuu2 = ransuu*ketasuu; /*100倍する*/
              var ransuu3 = Math.floor(ransuu2); /* 小数点以下切り捨て*/
              return ransuu3;
            }
            /*これで毎回消さなくても平気！楽チン*/
            &lt;/script&gt; 
          &lt;/html&gt; 
        </pre>
        <p class="copy" id="copy45">選択</p>
      </div>

      <div class="obj">
        入力するときは数字を消す（写すだけから脱却！!でも正解できなくなってしまう！）<br />      
        <pre class="prettyprint" id="src46">
          &lt;html&gt; 
            &lt;body style="text-align: center;"</body>&gt;
              &lt;p id='num'&gt;ここに説明文&lt;/p&gt;
              &lt;input id='tt' &gt;
              &lt;button id='bt'&gt;ボタンの中&lt;/button&gt;    
            &lt;/body&gt;
            &lt;script&gt;
            var keta = 10;
            var bt = document.getElementById('bt');
            var tt = document.getElementById('tt');
            var num = document.getElementById('num');
          
            bt.addEventListener('click',say);
            tt.addEventListener('click',numkesu);
          
            function say(){
              if(tt.value==num.innerText){
                console.dir('正解');
                keta = keta*10;
              }
              console.dir('次の問題!');
              num.innerText = random(keta);
              tt.value = "";
              bt.innerText = "決定!";
            }
          
            function random(ketasuu){
              var ransuu = Math.random(); /* 乱数作成*/
              var ransuu2 = ransuu*ketasuu; /*100倍する*/
              var ransuu3 = Math.floor(ransuu2); /* 小数点以下切り捨て*/
              return ransuu3;
            }
            function numkesu(){
              console.dir("消えまーす!");
              num.innerText = "";
            }      
            /*何回入力しても正解できない！*/    
            &lt;/script&gt; 
          &lt;/html&gt; 
        </pre>
        <p class="copy" id="copy46">選択</p>
      </div>

      <div class="obj">
        【問題5】正解ができるように変更しよう<br />      
        <pre class="prettyprint" id="src47">
          &lt;html&gt; 
            &lt;body style="text-align: center;"</body>&gt;
              &lt;p id='num'&gt;ここに説明文&lt;/p&gt;
              &lt;input id='tt' &gt;
              &lt;button id='bt'&gt;ボタンの中&lt;/button&gt;    
            &lt;/body&gt;
            &lt;script&gt;
            var keta = 10;
            var bt = document.getElementById('bt');
            var tt = document.getElementById('tt');
            var num = document.getElementById('num');
            var kotae = "";                              /*この行を追加*/
          
            bt.addEventListener('click',say);
            tt.addEventListener('click',numkesu);
          
            function say(){
              if(tt.value==num.innerText){     /*この行を変更*/
                console.dir('正解');
                keta = keta*10;
              }
              console.dir('次の問題!');
              num.innerText = random(keta);    /*この行を変更*/
              /*ここに１行追加*/
              tt.value = "";
              bt.innerText = "決定!";
            }
          
            function random(ketasuu){
              var ransuu = Math.random(); /* 乱数作成*/
              var ransuu2 = ransuu*ketasuu; /*100倍する*/
              var ransuu3 = Math.floor(ransuu2); /* 小数点以下切り捨て*/
              return ransuu3;
            }
          
            function numkesu(){
              console.dir("消えまーす!");
              num.innerText = "";
            }              
            /*kotaeがなんのためにあるか考えてみよう*/  
            &lt;/script&gt; 
          &lt;/html&gt; 
        </pre>
        <p class="copy" id="copy47">選択</p>
      </div>


<h2>アンケート</h2>
<a href="https://forms.gle/4SCMWWqKDj3J4guB8">https://forms.gle/4SCMWWqKDj3J4guB8</a>


  </body>
  <script>
    function select(obj){
        var s = window.getSelection();
        s.empty();
        var range = document.createRange();
        range.selectNode(obj.querySelector('pre'));
        s.addRange(range);    
    }

    (()=>{
        let objArray = document.querySelectorAll('.obj');
        for(let obj of objArray){
          let copy = obj.querySelector('p');
          copy.addEventListener('click',()=>{
                console.log(copy.id);
                select(obj);
            });
        }
    })();
  </script>
</html>